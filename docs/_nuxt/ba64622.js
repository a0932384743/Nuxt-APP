(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{822:function(t,e,r){t.exports={}},835:function(t,e,r){"use strict";r(822)},846:function(t,e,r){"use strict";r.r(e);r(27),r(134),r(138),r(18),r(52),r(98),r(100);var n=r(16),o=r(810),l=(r(811),r(813),r(814),r(812),function(t,e,r,n){return new(r||(r=Promise))((function(o,l){function c(t){try{f(n.next(t))}catch(t){l(t)}}function d(t){try{f(n.throw(t))}catch(t){l(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(c,d)}f((n=n.apply(t,e||[])).next())}))}),c=function(t,body){var e,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;g&&(g=0,l[0]&&(o=0)),o;)try{if(e=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],r=0}finally{e=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=n.default.extend({name:"Login",layout:"BaseLayout",data:function(){return{loading:!1,passwordType:!0,form:{email:"",password:"",remember:!1}}},computed:{emailValidate:function(){return this.form.email?!/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(this.form.email)&&this.$i18n.t("feedback.format.error",{e:this.$i18n.t("email")}):this.$i18n.t("feedback.require",{e:this.$i18n.t("email")})},passwordScore:function(){var t=this.form.password.length;return/[A-Z]/.test(this.form.password)&&(t*=1.25),/[a-z]/.test(this.form.password)&&(t*=1.25),/[0-9]/.test(this.form.password)&&(t*=1.25),/[A-Z]/.test(this.form.password)&&(t*=1.25),t}},methods:{loginByEmail:function(){return l(this,void 0,void 0,(function(){var t,e;return c(this,(function(r){switch(r.label){case 0:this.loading=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.$fire.auth.signInWithEmailAndPassword(this.form.email,this.form.password)];case 2:return t=r.sent(),this.$store.dispatch("common/setUser",t.user),this.$bvToast.toast("Success",{title:"已登入",variant:"success",solid:!0}),this.$router.push("/"),[3,4];case 3:return e=r.sent(),this.$bvToast.toast("Error",{title:e.toLocaleString(),variant:"danger",solid:!0}),[3,4];case 4:return this.loading=!1,[2]}}))}))},loginByGoogle:function(){return l(this,void 0,void 0,(function(){var t,e;return c(this,(function(r){switch(r.label){case 0:this.loading=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.$fire.auth.signInWithPopup(new o.l)];case 2:return t=r.sent(),this.$store.dispatch("common/setUser",t.user),this.$bvToast.toast("Success",{title:"已登入",variant:"success",solid:!0}),this.$router.push("/"),[3,4];case 3:return e=r.sent(),this.$bvToast.toast("Error",{title:e.toLocaleString(),variant:"danger",solid:!0}),[3,4];case 4:return this.loading=!1,[2]}}))}))}}}),f=(r(835),r(124)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"d-flex align-content-center justify-content-center h-100"},[t._m(0),t._v(" "),e("div",{staticStyle:{flex:"1 1 400px"}},[e("b-card",{staticClass:"h-100 rounded-0"},[e("b-card-body",{staticClass:"px-lg-3 py-lg-5"},[e("h5",{staticClass:"text-center"},[e("strong",[t._v(t._s(t.$t("app.welcome")))])]),t._v(" "),e("div",{staticClass:"text-center"},[e("img",{attrs:{src:"/img/brand/logo-3.png",height:"80",alt:"Logo"}})]),t._v(" "),e("div",{staticClass:"text-muted d-flex flex-wrap mb-4 justify-content-center align-content-center flex-row mb-2 mt-3 flex-sm-column"},[e("div",{staticClass:"text-nowrap"},[e("small",[t._v(t._s(t.$t("login.below")))])]),t._v(" "),e("div",{staticClass:"btn-wrapper text-center mx-2"},[e("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){return e.preventDefault(),t.loginByGoogle.apply(null,arguments)}}},[e("img",{attrs:{src:"/img/brand/google.svg",height:"20"}}),t._v("\n              Google\n            ")])],1),t._v(" "),e("div",{staticClass:"text-nowrap"},[e("small",[t._v(t._s(t.$t("login.credential")))])])]),t._v(" "),e("b-form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.loginByEmail()}}},[e("b-form-group",{attrs:{"label-for":"email-input"}},[e("b-input-group",{scopedSlots:t._u([{key:"prepend",fn:function(){return[e("div",{staticClass:"input-group-text bg-light"},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-envelope"}})],1)]},proxy:!0}])},[t._v(" "),e("b-form-input",{attrs:{id:"email-input",autocomplete:"off",name:"email",placeholder:t.$t("email"),state:!t.emailValidate,"aria-describedby":"email-invalid-feedback"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),e("b-form-invalid-feedback",{staticClass:"text-right",attrs:{id:"email-invalid-feedback",state:!t.emailValidate}},[t._v("\n              "+t._s(t.emailValidate)+"\n            ")])],1),t._v(" "),e("b-form-group",{attrs:{"label-for":"password-input"}},[e("b-input-group",{scopedSlots:t._u([{key:"prepend",fn:function(){return[e("div",{staticClass:"input-group-text"},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-lock"}})],1)]},proxy:!0},{key:"append",fn:function(){return[e("div",{staticClass:"input-group-text bg-light btn",on:{click:function(e){t.passwordType=!t.passwordType}}},[e("font-awesome-icon",{attrs:{icon:t.passwordType?"fa-solid fa-eye-slash":"fa-solid fa-eye"}})],1)]},proxy:!0}])},[t._v(" "),e("b-form-input",{attrs:{id:"password-input",autocomplete:"off",type:t.passwordType?"password":"text",name:"password",placeholder:t.$t("password"),state:t.passwordScore>=20,"aria-describedby":"password-invalid-feedback"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),e("b-form-invalid-feedback",{staticClass:"text-right",attrs:{id:"password-invalid-feedback",state:t.passwordScore>=20}},[0===t.passwordScore?e("span",{staticClass:"text-danger"},[t._v("\n                "+t._s(t.$t("feedback.require",{e:t.$t("password")}))+"\n              ")]):t._e(),t._v(" "),t.passwordScore<10&&t.passwordScore>0?e("span",{staticClass:"text-danger"},[t._v("\n                "+t._s(t.$t("feedback.password.danger"))+"\n              ")]):t._e(),t._v(" "),t.passwordScore<20&&t.passwordScore>=10?e("span",{staticClass:"text-warning"},[t._v("\n                "+t._s(t.$t("feedback.password.warning"))+"\n              ")]):t._e()]),t._v(" "),e("b-form-valid-feedback",{staticClass:"text-right",attrs:{id:"password-valid-feedback",state:t.passwordScore>=20}},[t._v("\n              "+t._s(t.$t("feedback.password.success"))+"\n            ")])],1),t._v(" "),e("b-form-group",[e("b-form-checkbox",{attrs:{id:"rememberMe",name:"rememberMe",value:"true","unchecked-value":"false"},model:{value:t.form.remember,callback:function(e){t.$set(t.form,"remember",e)},expression:"form.remember"}},[e("small",{staticClass:"align-text-top"},[t._v(t._s(t.$t("remember.me")))])])],1),t._v(" "),e("div",{staticClass:"text-center my-2"},[e("b-button",{staticStyle:{"min-width":"100px"},attrs:{type:"submit",pill:"",variant:"info",disabled:t.passwordScore<20||!!t.emailValidate||t.loading}},[t._v("\n              "+t._s(t.$t("login"))+"\n              "),t.loading?t._e():e("font-awesome-icon",{attrs:{icon:"sign-in"}}),t._v(" "),t.loading?e("b-spinner",{attrs:{label:"Loading...",small:""}}):t._e()],1)],1),t._v(" "),e("div",{staticClass:"d-flex justify-content-end"},[e("router-link",{staticClass:"text-secondary",attrs:{to:"/register"}},[e("small",[t._v(t._s(t.$t("create.account")))])])],1)],1)],1)],1)],1)])}),[function(){var t=this._self._c;this._self._setupProxy;return t("div",{staticClass:"d-none d-sm-block h-100",staticStyle:{flex:"1 1 calc(100% - 400px)"}},[t("img",{staticClass:"bg-image",attrs:{src:"/img/background/system-bg.png",alt:"Logo",tag:"vue-app"}})])}],!1,null,null,null);e.default=component.exports}}]);